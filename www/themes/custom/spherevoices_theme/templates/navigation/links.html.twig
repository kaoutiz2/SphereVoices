{#
/**
 * @file
 * Template personnalisé pour les liens avec icônes.
 */
#}
{% if links -%}
  {%- if heading -%}
    {%- if heading.level -%}
      <{{ heading.level }}{{ heading.attributes }}>{{ heading.text }}</{{ heading.level }}>
    {%- else -%}
      <h2{{ heading.attributes }}>{{ heading.text }}</h2>
    {%- endif -%}
  {%- endif -%}
  <ul{{ attributes.addClass('user-links') }}>
    {%- for item in links -%}
      {% set link_text = item.text|render|striptags|trim %}
      {% set icon = '' %}
      
      {# Déterminer l'icône selon le texte du lien #}
      {% if 'Mon compte' in link_text or 'My account' in link_text or 'account' in item.attributes.class|join(' ') %}
        {% set icon = '<svg class="link-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 8C10.2091 8 12 6.20914 12 4C12 1.79086 10.2091 0 8 0C5.79086 0 4 1.79086 4 4C4 6.20914 5.79086 8 8 8Z" fill="currentColor"/><path d="M8 9C5.23858 9 0 10.3431 0 13V16H16V13C16 10.3431 10.7614 9 8 9Z" fill="currentColor"/></svg>' %}
      {% elseif 'Se déconnecter' in link_text or 'Log out' in link_text or 'logout' in item.attributes.class|join(' ') %}
        {% set icon = '' %}
      {% elseif 'RSS' in link_text or 'rss' in item.attributes.class|join(' ') or 'feed' in item.attributes.class|join(' ') %}
        {% set icon = '<svg class="link-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="3" cy="13" r="2" fill="currentColor"/><path d="M1 7C7.07513 7 12 11.9249 12 18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M1 1C9.28427 1 16 7.71573 16 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>' %}
      {% endif %}
      
      <li{{ item.attributes }}>
        {%- if item.link -%}
          <span class="link-wrapper">
            {{ icon|raw }}
            {{ item.link }}
          </span>
        {%- elseif item.text_attributes -%}
          <span{{ item.text_attributes }}>{{ item.text }}</span>
        {%- else -%}
          {{ item.text }}
        {%- endif -%}
      </li>
    {%- endfor -%}
  </ul>
{%- endif %}

