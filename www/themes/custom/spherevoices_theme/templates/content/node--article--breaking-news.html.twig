{#
/**
 * @file
 * Template pour l'affichage d'un article Breaking News avec label.
 */
#}
<article{{ attributes.addClass('article-breaking-news') }}>
  <a href="{{ url }}" class="article-breaking-news-link">
    <div class="article-breaking-news-image-wrapper">
      {% if content.field_image and content.field_image|render|striptags|trim %}
        <div class="article-breaking-news-image">
          {{ content.field_image }}
        </div>
      {% elseif node.field_image.value %}
        {# Fallback: acc√©der directement au champ si pas dans content #}
        <div class="article-breaking-news-image">
          {% set image_file = node.field_image.entity %}
          {% if image_file %}
            {% set image_uri = image_file.uri.value %}
            <img src="{{ file_url(image_uri) }}" alt="{{ node.field_image.alt }}" />
          {% endif %}
        </div>
      {% else %}
        <div class="article-breaking-news-image article-breaking-news-image-placeholder">
          <div class="placeholder-content">Image</div>
        </div>
      {% endif %}
      <div class="article-breaking-news-label">
        <span class="breaking-news-badge">BREAKING NEWS</span>
      </div>
    </div>
    <div class="article-breaking-news-content">
      <h2 class="article-breaking-news-title">{{ label }}</h2>
      {% if content.field_summary|render %}
        <div class="article-breaking-news-summary">
          {{ content.field_summary }}
        </div>
      {% endif %}
    </div>
  </a>
</article>

