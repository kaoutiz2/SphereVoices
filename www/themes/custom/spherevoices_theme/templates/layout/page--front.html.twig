{#
/**
 * @file
 * Template pour la page d'accueil style CNN.
 *
 * Variables disponibles:
 * - breaking_news: Article breaking news (avec label)
 * - featured_article: Article principal au centre
 * - left_articles: Articles à gauche
 * - right_articles: Articles à droite
 */
#}
<div class="page-wrapper">
  <header class="site-header" role="banner">
    {% if page.header_top %}
      <div class="header-top">
        {{ page.header_top }}
      </div>
    {% endif %}
    <div class="header-main">
      <div class="header-left-section">
        {% if page.header %}
          <div class="site-branding">
            {{ page.header }}
          </div>
        {% endif %}
        <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
          <span class="menu-toggle-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </span>
        </button>
        {% if page.navigation %}
          <nav class="main-navigation mobile-menu-hidden" role="navigation" aria-label="Main navigation">
            {{ page.navigation }}
          </nav>
        {% endif %}
      </div>
      <div class="header-right-section">
        <div class="header-search">
          <form action="/search" method="get" class="search-form-inline">
            <input type="search" name="keys" placeholder="Rechercher..." class="search-input-inline" />
            <button type="submit" class="search-button-inline">Rechercher</button>
          </form>
        </div>
        <div class="header-user-section">
          <div class="header-user-links">
            {% if page.header_user %}
              {{ page.header_user }}
            {% endif %}
          </div>
          <div class="header-rss">
            {% if page.header_rss %}
              {{ page.header_rss }}
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </header>

  {% if page.breadcrumb %}
    <div class="breadcrumb-wrapper">
      {{ page.breadcrumb }}
    </div>
  {% endif %}

  {% if page.highlighted %}
    <div class="highlighted">
      {{ page.highlighted }}
    </div>
  {% endif %}

  <main class="main-content homepage-main" role="main">
    <div class="homepage-container">
      {# Layout global : Contenu principal à gauche + Brèves à droite #}
      <div class="homepage-main-layout">
        {# Grille principale : 4 colonnes avec breaking news, articles et sidebar #}
        <div class="homepage-gallery-layout">
          {# Breaking News - prend 3 colonnes (1-3) #}
          {% if breaking_news %}
            <div class="breaking-news-section breaking-news-in-grid">
              {{ breaking_news }}
            </div>
          {% endif %}

          {# Article principal (featured) #}
          {% if featured_article %}
            <div class="article-gallery-item">
              {{ featured_article }}
            </div>
          {% endif %}

          {# Tous les autres articles en grille #}
          {% if all_articles %}
            {% for article in all_articles %}
              <div class="article-gallery-item">
                {{ article }}
              </div>
            {% endfor %}
          {% endif %}

          {# Sidebar dans la 4ème colonne #}
          <aside class="homepage-sidebar">
            {% if breves_block %}
              <div class="sidebar-breves-widget">
                {{ breves_block }}
              </div>
            {% endif %}
            
            {% if agenda_block %}
              <div class="sidebar-agenda-widget">
                {{ agenda_block }}
              </div>
            {% endif %}
            
            {% if poll_block %}
              <div class="sidebar-poll-widget">
                {{ poll_block }}
              </div>
            {% endif %}
          </aside>
        </div>
      </div>

      {# Contenu additionnel #}
      {% if page.content %}
        <div class="homepage-additional-content">
          {{ page.content }}
        </div>
      {% endif %}
    </div>
  </main>

  <footer class="site-footer" role="contentinfo">
    {% if page.footer_first or page.footer_second or page.footer_third %}
      <div class="footer-content">
        {% if page.footer_first %}
          <div class="footer-column footer-first">
            {{ page.footer_first }}
          </div>
        {% endif %}
        {% if page.footer_second %}
          <div class="footer-column footer-second">
            {{ page.footer_second }}
          </div>
        {% endif %}
        {% if page.footer_third %}
          <div class="footer-column footer-third">
            {{ page.footer_third }}
          </div>
        {% endif %}
      </div>
    {% endif %}
    {% if page.footer %}
      <div class="footer-bottom">
        {{ page.footer }}
      </div>
    {% endif %}
  </footer>
</div>

